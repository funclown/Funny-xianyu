# ä¾èµ–åŒ…åˆ†ææŠ¥å‘Š

## ğŸ“Š ä¾èµ–åŒ…å®Œæ•´åˆ—è¡¨

### âœ… å·²åŒ…å«åœ¨ requirements.txt ä¸­çš„æ ¸å¿ƒä¾èµ–

| åŒ…å | ç‰ˆæœ¬ | ç”¨é€” | åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ |
|------|------|------|----------------|
| **fastapi** | 0.115.0 | Web æ¡†æ¶ | `web_server.py` - æ„å»º API |
| **uvicorn[standard]** | 0.32.0 | ASGI æœåŠ¡å™¨ | è¿è¡Œ FastAPI åº”ç”¨ |
| **python-multipart** | 0.0.6 | æ–‡ä»¶ä¸Šä¼ æ”¯æŒ | å¤„ç†è¡¨å•æ•°æ® |
| **pydantic** | 2.9.0 | æ•°æ®éªŒè¯ | FastAPI æ•°æ®æ¨¡å‹ |
| **itsdangerous** | >=2.1.2 | Session æ•°æ®ç­¾å | `SessionMiddleware` éœ€è¦ â­ æ–°å¢ |
| **email-validator** | >=2.1.0 | é‚®ç®±éªŒè¯ | å¯é€‰åŠŸèƒ½ â­ æ–°å¢ |
| **playwright** | 1.48.0 | æµè§ˆå™¨è‡ªåŠ¨åŒ– | `scraper.py` - çˆ¬è™«æ ¸å¿ƒ |
| **requests** | 2.31.0 | HTTP è¯·æ±‚ | `notification.py` - å‘é€é€šçŸ¥ |
| **python-dotenv** | 1.0.0 | ç¯å¢ƒå˜é‡ç®¡ç† | `config.py` - è¯»å–é…ç½® |
| **apscheduler** | 3.10.4 | å®šæ—¶ä»»åŠ¡ | ä»»åŠ¡è°ƒåº¦ |

---

## ğŸ” è‡ªåŠ¨å®‰è£…çš„ä¼ é€’ä¾èµ–

### FastAPI è‡ªåŠ¨å®‰è£…çš„åŒ…

è¿™äº›åŒ…ä¼šåœ¨å®‰è£… FastAPI æ—¶è‡ªåŠ¨å®‰è£…ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ ï¼š

| åŒ…å | è¯´æ˜ |
|------|------|
| **starlette** | FastAPI çš„åº•å±‚æ¡†æ¶ â­ å…³é”® |
| **typing-extensions** | ç±»å‹æç¤ºæ‰©å±• |
| **anyio** | å¼‚æ­¥ I/O |

### uvicorn[standard] è‡ªåŠ¨å®‰è£…çš„åŒ…

å®‰è£… `uvicorn[standard]` æ—¶ä¼šåŒ…å«è¿™äº›é¢å¤–ä¾èµ–ï¼š

| åŒ…å | è¯´æ˜ |
|------|------|
| **websockets** | WebSocket æ”¯æŒ |
| **httptools** | HTTP è§£æåŠ é€Ÿ |
| **pyyaml** | YAML é…ç½®æ–‡ä»¶æ”¯æŒ |
| **colorama** | Windows å½©è‰²ç»ˆç«¯è¾“å‡º |
| **uvloop** | Unix ä¸‹çš„é«˜æ€§èƒ½äº‹ä»¶å¾ªç¯ |

---

## ğŸ“¦ ä»£ç ä¸­å¯¼å…¥çš„æ‰€æœ‰åŒ…

### Python æ ‡å‡†åº“ï¼ˆæ— éœ€å®‰è£…ï¼‰

```python
# å¼‚æ­¥å’Œå¹¶å‘
asyncio

# æ•°æ®å¤„ç†
json

# ç³»ç»Ÿå’Œæ–‡ä»¶
os
sys
subprocess
pathlib

# æ—¥æœŸæ—¶é—´
datetime

# å·¥å…·å’Œè£…é¥°å™¨
functools
typing
secrets

# ç½‘ç»œå’Œ URL
urllib.parse

# æ­£åˆ™å’Œæ•°å­¦
re
math
random

# å¼‚å¸¸å¤„ç†
Exception
```

### å¤–éƒ¨ä¾èµ–ï¼ˆéœ€è¦å®‰è£…ï¼‰

```python
# Web æ¡†æ¶
from fastapi import ...
from starlette.middleware.sessions import SessionMiddleware
from pydantic import ...
import uvicorn

# æµè§ˆå™¨è‡ªåŠ¨åŒ–
from playwright.async_api import ...

# HTTP å’Œç½‘ç»œ
import requests

# é…ç½®ç®¡ç†
from dotenv import load_dotenv

# å®šæ—¶ä»»åŠ¡
from apscheduler import ...

# Session å®‰å…¨
import itsdangerous  # â­ æ–°å¢
```

---

## âš ï¸ ä¹‹å‰ç¼ºå¤±çš„ä¾èµ–

### é—®é¢˜ï¼šModuleNotFoundError: No module named 'itsdangerous'

**åŸå› ï¼š**
- `web_server.py` ç¬¬ 19 è¡Œå¯¼å…¥äº† `SessionMiddleware`
- `SessionMiddleware` éœ€è¦ `itsdangerous` æ¥ç­¾å session æ•°æ®
- ä½† `requirements.txt` ä¸­æ²¡æœ‰åˆ—å‡ºè¿™ä¸ªåŒ…

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
pip install itsdangerous>=2.1.2
```

**å·²æ·»åŠ åˆ° requirements.txtï¼š**
```
itsdangerous>=2.1.2
```

---

## ğŸ“‹ å®Œæ•´çš„ä¾èµ–å…³ç³»æ ‘

```
é—²é±¼çˆ¬è™«é¡¹ç›®
â”œâ”€â”€ Web æœåŠ¡å™¨
â”‚   â”œâ”€â”€ fastapi==0.115.0
â”‚   â”‚   â”œâ”€â”€ starlette>=0.37.0  (è‡ªåŠ¨)
â”‚   â”‚   â”œâ”€â”€ pydantic>=2.0.0
â”‚   â”‚   â””â”€â”€ typing-extensions>=4.6.0  (è‡ªåŠ¨)
â”‚   â”œâ”€â”€ uvicorn[standard]==0.32.0
â”‚   â”‚   â”œâ”€â”€ uvloop>=0.21.0  (è‡ªåŠ¨ï¼Œä»… Unix)
â”‚   â”‚   â”œâ”€â”€ websockets>=13.0  (è‡ªåŠ¨)
â”‚   â”‚   â”œâ”€â”€ httptools>=0.6.0  (è‡ªåŠ¨)
â”‚   â”‚   â”œâ”€â”€ python-dotenv>=1.0.0  (è‡ªåŠ¨ï¼Œä½†å·²æ˜¾å¼åˆ—å‡º)
â”‚   â”‚   â”œâ”€â”€ pyyaml>=6.0  (è‡ªåŠ¨)
â”‚   â”‚   â””â”€â”€ colorama>=0.4  (è‡ªåŠ¨ï¼Œä»… Windows)
â”‚   â”œâ”€â”€ python-multipart==0.0.6
â”‚   â”œâ”€â”€ itsdangerous>=2.1.2  â­ æ–°å¢
â”‚   â””â”€â”€ email-validator>=2.1.0  â­ æ–°å¢
â”‚
â”œâ”€â”€ çˆ¬è™«æ ¸å¿ƒ
â”‚   â”œâ”€â”€ playwright==1.48.0
â”‚   â”‚   â”œâ”€â”€ greenlet>=3.0.0  (è‡ªåŠ¨)
â”‚   â”‚   â”œâ”€â”€ pyee>=11.0.0  (è‡ªåŠ¨)
â”‚   â”‚   â””â”€â”€ websockets>=13.0  (è‡ªåŠ¨ï¼Œå·²æœ‰)
â”‚   â””â”€â”€ requests==2.31.0
â”‚       â”œâ”€â”€ certifi>=2023.0.0  (è‡ªåŠ¨)
â”‚       â”œâ”€â”€ charset-normalizer>=3.0.0  (è‡ªåŠ¨)
â”‚       â”œâ”€â”€ idna>=3.0.0  (è‡ªåŠ¨)
â”‚       â””â”€â”€ urllib3>=2.0.0  (è‡ªåŠ¨)
â”‚
â”œâ”€â”€ é…ç½®å’Œå·¥å…·
â”‚   â”œâ”€â”€ python-dotenv==1.0.0
â”‚   â””â”€â”€ apscheduler==3.10.4
â”‚       â”œâ”€â”€ pytz>=2023.3  (è‡ªåŠ¨)
â”‚       â””â”€â”€ tzlocal>=4.0.0  (è‡ªåŠ¨)
â”‚
â””â”€â”€ Python æ ‡å‡†åº“ï¼ˆæ— éœ€å®‰è£…ï¼‰
    â”œâ”€â”€ asyncio, json, os, sys, subprocess
    â”œâ”€â”€ datetime, pathlib, typing, secrets
    â”œâ”€â”€ functools, urllib.parse, re, math, random
    â””â”€â”€ Exception, etc.
```

---

## ğŸ”§ å®‰è£…æŒ‡å—

### å®Œæ•´å®‰è£…ï¼ˆæ¨èï¼‰

```bash
pip install -r requirements.txt
```

### åˆ†æ­¥å®‰è£…ï¼ˆè°ƒè¯•ç”¨ï¼‰

```bash
# 1. Web æ¡†æ¶
pip install fastapi==0.115.0 uvicorn[standard]==0.32.0
pip install python-multipart==0.0.6 pydantic==2.9.0

# 2. Session æ”¯æŒï¼ˆé‡è¦ï¼ï¼‰
pip install itsdangerous>=2.1.2

# 3. çˆ¬è™«
pip install playwright==1.48.0
playwright install chromium

# 4. é…ç½®å’Œå·¥å…·
pip install python-dotenv==1.0.0 apscheduler==3.10.4

# 5. HTTP è¯·æ±‚
pip install requests==2.31.0

# 6. éªŒè¯å®‰è£…
pip install email-validator>=2.1.0
```

### ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿ

```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

---

## âœ… éªŒè¯å®‰è£…

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯æ‰€æœ‰ä¾èµ–å·²æ­£ç¡®å®‰è£…ï¼š

```bash
# éªŒè¯æ ¸å¿ƒä¾èµ–
python -c "import fastapi; print('âœ… FastAPI')"
python -c "import uvicorn; print('âœ… Uvicorn')"
python -c "import playwright; print('âœ… Playwright')"
python -c "import requests; print('âœ… Requests')"

# éªŒè¯æ–°å¢ä¾èµ–
python -c "import itsdangerous; print('âœ… itsdangerous')"
python -c "from starlette.middleware.sessions import SessionMiddleware; print('âœ… SessionMiddleware')"

# éªŒè¯é¡¹ç›®å¯ä»¥å¯åŠ¨
python web_server.py
```

é¢„æœŸè¾“å‡ºï¼š
```
âœ… FastAPI
âœ… Uvicorn
âœ… Playwright
âœ… Requests
âœ… itsdangerous
âœ… SessionMiddleware
==========================================
  é—²é±¼çˆ¬è™«ç›‘æ§ç³»ç»Ÿ Web æœåŠ¡å™¨
==========================================
```

---

## ğŸ“ ç‰ˆæœ¬é€‰æ‹©è¯´æ˜

### ä½¿ç”¨å›ºå®šç‰ˆæœ¬ (==)

```txt
fastapi==0.115.0
playwright==1.48.0
```

**ä¼˜ç‚¹ï¼š**
- ç¡®ä¿éƒ¨ç½²ç¯å¢ƒä¸€è‡´
- é¿å…æ„å¤–çš„ä¸å…¼å®¹æ›´æ–°
- é€‚åˆç”Ÿäº§ç¯å¢ƒ

**ç¼ºç‚¹ï¼š**
- æ— æ³•è·å¾—å®‰å…¨è¡¥ä¸ï¼ˆé™¤éæ‰‹åŠ¨æ›´æ–°ç‰ˆæœ¬å·ï¼‰

### ä½¿ç”¨æœ€å°ç‰ˆæœ¬ (>=)

```txt
itsdangerous>=2.1.2
email-validator>=2.1.0
```

**ä¼˜ç‚¹ï¼š**
- è‡ªåŠ¨è·å¾— bug ä¿®å¤å’Œå®‰å…¨è¡¥ä¸
- å‘åå…¼å®¹çš„æ›´æ–°

**ç¼ºç‚¹ï¼š**
- å¯èƒ½å¼•å…¥æ„å¤–å˜åŒ–
- ä¸é€‚åˆä¸¥æ ¼ä¸€è‡´çš„ç”Ÿäº§ç¯å¢ƒ

---

## ğŸ¯ æ€»ç»“

### å¿…é¡»å®‰è£…çš„ä¾èµ–ï¼ˆ9 ä¸ªï¼‰

1. âœ… fastapi
2. âœ… uvicorn[standard]
3. âœ… python-multipart
4. âœ… pydantic
5. âœ… playwright
6. âœ… requests
7. âœ… python-dotenv
8. âœ… apscheduler
9. âœ… **itsdangerous** â­ å…³é”®æ–°å¢

### å¯é€‰ä¾èµ–ï¼ˆ1 ä¸ªï¼‰

10. âš ï¸ email-validatorï¼ˆä»…åœ¨éœ€è¦é‚®ç®±éªŒè¯æ—¶ï¼‰

### ä¼ é€’ä¾èµ–ï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰

- starlette
- websockets
- httptools
- pyyaml
- colorama
- typing-extensions
- ç­‰ç­‰...

---

**æ‰€æœ‰å¿…éœ€ä¾èµ–ç°åœ¨éƒ½åœ¨ requirements.txt ä¸­äº†ï¼** ğŸ‰
